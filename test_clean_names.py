"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏–π —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
"""

import sys
import re

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫—É –¥–ª—è Windows
if sys.platform == 'win32':
    import io
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

def clean_competition_name(name: str) -> str:
    """
    –û—á–∏—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –æ—Ç –¥–∏—Å—Ç–∞–Ω—Ü–∏–π –≤ —Å–∫–æ–±–∫–∞—Ö
    """
    # –£–¥–∞–ª—è–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –≤ —Å–∫–æ–±–∫–∞—Ö —Ç–∏–ø–∞ (21,1–∫–º), (42–∫–º), (10 –∫–º), (5,5 –∫–º) –∏ —Ç.–¥.
    cleaned = re.sub(r'\s*\([0-9]+[,.]?[0-9]*\s*–∫–º\)', '', name)
    # –£–¥–∞–ª—è–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –≤ —Å–∫–æ–±–∫–∞—Ö –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (21.1km), (42km) –∏ —Ç.–¥.
    cleaned = re.sub(r'\s*\([0-9]+[,.]?[0-9]*\s*km\)', '', cleaned, flags=re.IGNORECASE)
    return cleaned.strip()

# –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
test_cases = [
    ('–ü–æ–ª—É–º–∞—Ä–∞—Ñ–æ–Ω (21,1–∫–º)', '–ü–æ–ª—É–º–∞—Ä–∞—Ñ–æ–Ω'),
    ('–ú–∞—Ä–∞—Ñ–æ–Ω (42,195–∫–º)', '–ú–∞—Ä–∞—Ñ–æ–Ω'),
    ('–ú–∞—Ä–∞—Ñ–æ–Ω (42–∫–º)', '–ú–∞—Ä–∞—Ñ–æ–Ω'),
    ('–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –∑–∞–±–µ–≥ (10–∫–º)', '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –∑–∞–±–µ–≥'),
    ('–ü—Ä–æ–±–µ–≥ (5,5–∫–º)', '–ü—Ä–æ–±–µ–≥'),
    ('–ó–∞–±–µ–≥ (3 –∫–º)', '–ó–∞–±–µ–≥'),
    ('Marathon (42.195km)', 'Marathon'),
    ('Run (10km)', 'Run'),
    ('–ü—Ä–æ—Å—Ç–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ', '–ü—Ä–æ—Å—Ç–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ'),
    ('–ù–∞–∑–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏', '–ù–∞–∑–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏'),
]

print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏–π —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π\n")
print("-" * 70)

all_passed = True
for input_value, expected in test_cases:
    result = clean_competition_name(input_value)
    status = "‚úÖ" if result == expected else "‚ùå"

    if result != expected:
        all_passed = False

    print(f"{status} '{input_value}' -> '{result}'")
    if result != expected:
        print(f"   –û–∂–∏–¥–∞–ª–æ—Å—å: '{expected}'")

print("-" * 70)
if all_passed:
    print("\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!")
else:
    print("\n‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–∏")
