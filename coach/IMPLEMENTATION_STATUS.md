# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π —Ç—Ä–µ–Ω–µ—Ä–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

### 1. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–≥–æ –∏–º–µ–Ω–∏ —É—á–µ–Ω–∏–∫–∞
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –¢—Ä–µ–Ω–µ—Ä –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è —É—á–µ–Ω–∏–∫–∞
- –ü—Å–µ–≤–¥–æ–Ω–∏–º –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–Ω–µ—Ä—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `coach_links.coach_nickname`
- UI: –¢—Ä–µ–Ω–µ—Ä ‚Üí –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏ ‚Üí [–£—á–µ–Ω–∏–∫] ‚Üí ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø—Å–µ–≤–¥–æ–Ω–∏–º

**–§–∞–π–ª—ã:**
- `coach/coach_training_queries.py` - —Ñ—É–Ω–∫—Ü–∏–∏ `set_student_nickname()`, `get_student_display_name()`
- `coach/coach_handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `edit_nickname_prompt()`, `process_nickname()`
- `bot/fsm.py` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ `CoachStates.waiting_for_nickname`

---

### 2. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —É—á–µ–Ω–∏–∫–∞
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 30 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —É—á–µ–Ω–∏–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∏–ø–∞, –¥–∞—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- –û—Ç–º–µ—Ç–∫–∞ üë®‚Äçüè´ –µ—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç—Ä–µ–Ω–µ—Ä–æ–º
- UI: –¢—Ä–µ–Ω–µ—Ä ‚Üí –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏ ‚Üí [–£—á–µ–Ω–∏–∫] ‚Üí üìä –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–§–∞–π–ª—ã:**
- `coach/coach_training_queries.py` - —Ñ—É–Ω–∫—Ü–∏—è `get_student_trainings()`
- `coach/coach_handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `show_student_trainings()`
- `coach/coach_keyboards.py` - —Ñ—É–Ω–∫—Ü–∏—è `get_student_trainings_keyboard()`

---

### 3. ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —É—á–µ–Ω–∏–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏, —Ç–µ–º–ø–∞, –ø—É–ª—å—Å–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —É—á–µ–Ω–∏–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Ç—Ä–µ–Ω–µ—Ä–∞
- UI: –¢—Ä–µ–Ω–µ—Ä ‚Üí –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —É—á–µ–Ω–∏–∫–∞ ‚Üí [–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞]

**–§–∞–π–ª—ã:**
- `coach/coach_training_queries.py` - —Ñ—É–Ω–∫—Ü–∏—è `get_training_with_comments()`
- `coach/coach_handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `show_training_detail()`
- `coach/coach_keyboards.py` - —Ñ—É–Ω–∫—Ü–∏—è `get_training_detail_keyboard()`

---

### 4. ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –¢—Ä–µ–Ω–µ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º —É—á–µ–Ω–∏–∫–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `training_comments`
- –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- UI: –¢—Ä–µ–Ω–µ—Ä ‚Üí –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É—á–µ–Ω–∏–∫–∞ ‚Üí üí¨ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

**–§–∞–π–ª—ã:**
- `coach/coach_training_queries.py` - —Ñ—É–Ω–∫—Ü–∏–∏ `add_comment_to_training()`, `update_comment()`, `delete_comment()`
- `coach/coach_handlers.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `add_comment_prompt()`, `process_comment()`
- `bot/fsm.py` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ `CoachStates.waiting_for_comment`

---

## üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

### 5. üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —É—á–µ–Ω–∏–∫—É
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ (—Ñ—É–Ω–∫—Ü–∏–∏ –ë–î –≥–æ—Ç–æ–≤—ã, UI –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
**–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- –§—É–Ω–∫—Ü–∏—è `add_training_for_student()` –≤ `coach/coach_training_queries.py`
- –ü–æ–ª—è –≤ –ë–î: `trainings.added_by_coach_id`, `trainings.is_planned`

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π flow –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å –¥–∞—Ç—É –≤ –±—É–¥—É—â–µ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫—É –æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `add_training_for_student_prompt()` (–∑–∞–≥–ª—É—à–∫–∞ —Å–æ–∑–¥–∞–Ω–∞)

---

### 6. üîÑ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —É—á–µ–Ω–∏–∫–∞
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–∑ `database/queries.py`
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –∏–∑ `bot/graphs.py` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —É—á–µ–Ω–∏–∫–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ –∂–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –≤–∏–¥–∏—Ç —Å–∞–º —É—á–µ–Ω–∏–∫
- UI: –¢—Ä–µ–Ω–µ—Ä ‚Üí –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏ ‚Üí [–£—á–µ–Ω–∏–∫] ‚Üí üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
```sql
-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
CREATE TABLE training_comments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    training_id INTEGER NOT NULL,
    author_id INTEGER NOT NULL,
    comment TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP
);
```

### –ù–æ–≤—ã–µ –ø–æ–ª—è:
```sql
-- –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
ALTER TABLE trainings ADD COLUMN added_by_coach_id INTEGER;
ALTER TABLE trainings ADD COLUMN is_planned BOOLEAN DEFAULT 0;

-- –°–≤—è–∑—å —Ç—Ä–µ–Ω–µ—Ä-—É—á–µ–Ω–∏–∫
ALTER TABLE coach_links ADD COLUMN coach_nickname TEXT;
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —É—á–µ–Ω–∏–∫—É**
   - –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π flow –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫—É
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
3. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–¥–æ—Ä–æ–≤—å—è —É—á–µ–Ω–∏–∫–∞**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞–∑–¥–µ–ª–æ–º "–ó–¥–æ—Ä–æ–≤—å–µ"
   - –ì—Ä–∞—Ñ–∏–∫ –≤–µ—Å–∞ –∏ –ø—É–ª—å—Å–∞ –ø–æ–∫–æ—è

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
   - –£–ª—É—á—à–µ–Ω–∏–µ UX

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢—Ä–µ–Ω–µ—Ä –¥–∞—ë—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```
1. –¢—Ä–µ–Ω–µ—Ä: –¢—Ä–µ–Ω–µ—Ä ‚Üí –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏ ‚Üí [–ò–≤–∞–Ω]
2. –¢—Ä–µ–Ω–µ—Ä: üìä –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
3. –¢—Ä–µ–Ω–µ—Ä: [15.01 –ö—Ä–æ—Å—Å 10–∫–º]
4. –¢—Ä–µ–Ω–µ—Ä: üí¨ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
5. –¢—Ä–µ–Ω–µ—Ä –≤–≤–æ–¥–∏—Ç: "–û—Ç–ª–∏—á–Ω—ã–π —Ç–µ–º–ø! –ù–æ —Å–ª–µ–¥–∏ –∑–∞ –ø—É–ª—å—Å–æ–º –≤ –∑–æ–Ω–µ 2."
6. ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω
7. –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞
```
1. –¢—Ä–µ–Ω–µ—Ä: –¢—Ä–µ–Ω–µ—Ä ‚Üí –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏ ‚Üí [–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤]
2. –¢—Ä–µ–Ω–µ—Ä: ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø—Å–µ–≤–¥–æ–Ω–∏–º
3. –¢—Ä–µ–Ω–µ—Ä –≤–≤–æ–¥–∏—Ç: "–ò–≤–∞–Ω (–º–∞—Ä–∞—Ñ–æ–Ω)"
4. ‚úÖ –ü—Å–µ–≤–¥–æ–Ω–∏–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω
5. –¢–µ–ø–µ—Ä—å –≤ —Å–ø–∏—Å–∫–µ: "–ò–≤–∞–Ω (–º–∞—Ä–∞—Ñ–æ–Ω)" –≤–º–µ—Å—Ç–æ "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —É—á–µ–Ω–∏–∫—É - –µ—â—ë –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
3. –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–¥–æ—Ä–æ–≤—å—è - –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
4. –ù–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–ø–æ–∫–∞)
5. –ù–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–ø–æ–∫–∞)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è —Ñ—É–Ω–∫—Ü–∏–π —Å–º. –≤ [FEATURE_PLAN.md](FEATURE_PLAN.md)

–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è –≤ [README.md](README.md)
