"""
Официальные беговые нормативы ЕВСК 2022-2025гг.
Источник: http://frs24.ru/st/normativ-po-begu/
Только автохронометраж (более точные данные).
"""

from typing import List, Dict


def parse_time_to_seconds(time_str: str) -> float:
    """
    Конвертирует строку времени в секунды.

    Args:
        time_str: Строка времени (например "1:30:00", "15:30", "23,95")

    Returns:
        Время в секундах
    """
    time_str = str(time_str).strip().replace(',', '.')

    # Формат ч:мин:с (например 2:12:00)
    if time_str.count(':') == 2:
        parts = time_str.split(':')
        hours = int(parts[0])
        minutes = int(parts[1])
        seconds = float(parts[2])
        return hours * 3600 + minutes * 60 + seconds

    # Формат мин:с (например 1:30,24)
    if ':' in time_str:
        parts = time_str.split(':')
        minutes = int(parts[0])
        seconds = float(parts[1])
        return minutes * 60 + seconds

    # Только секунды
    return float(time_str)


def get_frs24_running_standards() -> List[Dict]:
    """
    Возвращает нормативы ЕВСК по бегу (автохронометраж).

    Returns:
        Список нормативов с дистанцией, полом, разрядом и временем в секундах
    """
    standards = []

    # МУЖЧИНЫ - автохронометраж (круг 400м или без указания)
    male_auto = {
        0.06: {  # 60м
            'МСМК': '6,60', 'МС': '6,78', 'КМС': '7,04',
            'I': '7,34', 'II': '7,64', 'III': '8,04',
            'I юн.': '8,44', 'II юн.': '8,94', 'III юн.': '9,54'
        },
        0.1: {  # 100м
            'МСМК': '10,28', 'МС': '10,55', 'КМС': '10,94',
            'I': '11,44', 'II': '12,04', 'III': '12,84',
            'I юн.': '13,74', 'II юн.': '14,64', 'III юн.': '15,64'
        },
        0.2: {  # 200м (без круга 200м)
            'МСМК': '20,65', 'МС': '21,30', 'КМС': '22,24',
            'I': '23,24', 'II': '24,54', 'III': '26,24',
            'I юн.': '28,24', 'II юн.': '30,74', 'III юн.': '34,24'
        },
        0.3: {  # 300м
            'КМС': '34,74', 'I': '36,44', 'II': '38,94', 'III': '41,84',
            'I юн.': '45,44', 'II юн.': '49,24', 'III юн.': '53,24'
        },
        0.4: {  # 400м (круг 400м)
            'МСМК': '45,80', 'МС': '47,00', 'КМС': '49,74',
            'I': '52,24', 'II': '56,24', 'III': '1:00,24',
            'I юн.': '1:05,24', 'II юн.': '1:10,74', 'III юн.': '1:16,44'
        },
        0.6: {  # 600м (круг 400м)
            'КМС': '1:22,74', 'I': '1:27,74', 'II': '1:33,74', 'III': '1:40,74',
            'I юн.': '1:47,74', 'II юн.': '1:54,74', 'III юн.': '2:05,24'
        },
        0.8: {  # 800м (круг 400м)
            'МСМК': '1:46,50', 'МС': '1:48,24', 'КМС': '1:54,74',
            'I': '2:01,24', 'II': '2:10,24', 'III': '2:20,24',
            'I юн.': '2:31,24', 'II юн.': '2:43,24', 'III юн.': '2:58,24'
        },
        1.0: {  # 1000м (круг 400м)
            'МС': '2:22,24', 'КМС': '2:28,24', 'I': '2:37,24', 'II': '2:49,24', 'III': '3:03,24',
            'I юн.': '3:18,24', 'II юн.': '3:35,24', 'III юн.': '3:54,24'
        },
        1.5: {  # 1500м (круг 400м)
            'МСМК': '3:37,84', 'МС': '3:44,24', 'КМС': '3:54,74',
            'I': '4:07,74', 'II': '4:25,24', 'III': '4:45,24',
            'I юн.': '5:10,24', 'II юн.': '5:30,24', 'III юн.': '6:10,24'
        },
        3.0: {  # 3000м (круг 400м)
            'МСМК': '7:52,24', 'МС': '8:04,24', 'КМС': '8:30,24',
            'I': '9:00,24', 'II': '9:40,24', 'III': '10:20,24',
            'I юн.': '11:00,24', 'II юн.': '12:00,24', 'III юн.': '13:20,24'
        },
        5.0: {  # 5000м
            'МСМК': '13:25,24', 'МС': '13:54,24', 'КМС': '14:40,24',
            'I': '15:40,24', 'II': '16:45,24', 'III': '17:55,24',
            'I юн.': '19:10,24', 'II юн.': '20:50,24'
        },
        10.0: {  # 10000м
            'МСМК': '28:00,24', 'МС': '29:20,24', 'КМС': '30:50,24',
            'I': '33:10,24', 'II': '35:30,24', 'III': '38:40,24'
        },
        15.0: {  # 15км (шоссе)
            'КМС': '47:00', 'I': '50:00', 'II': '53:30', 'III': '57:40'
        },
        21.0975: {  # Полумарафон (шоссе)
            'МСМК': '1:01:30', 'МС': '1:05:00', 'КМС': '1:09:00',
            'I': '1:12:30', 'II': '1:17:45', 'III': '1:24:00'
        },
        42.195: {  # Марафон (шоссе)
            'МСМК': '2:12:00', 'МС': '2:16:00', 'КМС': '2:28:30',
            'I': '2:38:00', 'II': '2:50:00', 'III': '3:30:00'
        },
        100.0: {  # 100км (шоссе)
            'МСМК': '6:40:00', 'МС': '6:55:00', 'КМС': '7:15:00',
            'I': '7:40:00', 'II': '8:10:00', 'III': '8:45:00'
        },
    }

    # ЖЕНЩИНЫ - автохронометраж (круг 400м или без указания)
    female_auto = {
        0.06: {  # 60м
            'МСМК': '7,24', 'МС': '7,48', 'КМС': '7,84',
            'I': '8,24', 'II': '8,64', 'III': '9,14',
            'I юн.': '9,64', 'II юн.': '10,14', 'III юн.': '10,74'
        },
        0.1: {  # 100м
            'МСМК': '11,24', 'МС': '11,76', 'КМС': '12,64',
            'I': '13,44', 'II': '14,34', 'III': '15,34',
            'I юн.': '16,34', 'II юн.': '17,44', 'III юн.': '18,64'
        },
        0.2: {  # 200м (без круга 200м)
            'МСМК': '22,92', 'МС': '24,00', 'КМС': '25,74',
            'I': '27,34', 'II': '29,44', 'III': '31,74',
            'I юн.': '34,14', 'II юн.': '36,54', 'III юн.': '39,94'
        },
        0.3: {  # 300м
            'КМС': '40,74', 'I': '43,04', 'II': '45,74', 'III': '49,74',
            'I юн.': '53,84', 'II юн.': '58,24', 'III юн.': '1:03,24'
        },
        0.4: {  # 400м (круг 400м)
            'МСМК': '51,24', 'МС': '54,24', 'КМС': '57,74',
            'I': '1:01,74', 'II': '1:06,24', 'III': '1:11,24',
            'I юн.': '1:17,24', 'II юн.': '1:24,24', 'III юн.': '1:30,72'
        },
        0.6: {  # 600м (круг 400м)
            'КМС': '1:36,74', 'I': '1:43,24', 'II': '1:50,74', 'III': '1:59,24',
            'I юн.': '2:09,24', 'II юн.': '2:20,24', 'III юн.': '2:32,24'
        },
        0.8: {  # 800м (круг 400м)
            'МСМК': '2:00,00', 'МС': '2:05,30', 'КМС': '2:15,24',
            'I': '2:25,24', 'II': '2:36,24', 'III': '2:48,24',
            'I юн.': '3:01,24', 'II юн.': '3:16,24', 'III юн.': '3:35,24'
        },
        1.0: {  # 1000м (круг 400м)
            'МС': '2:45,24', 'КМС': '2:56,24', 'I': '3:07,24', 'II': '3:21,24', 'III': '3:37,24',
            'I юн.': '3:54,24', 'II юн.': '4:14,24', 'III юн.': '4:45,24'
        },
        1.5: {  # 1500м (круг 400м)
            'МСМК': '4:05,74', 'МС': '4:18,24', 'КМС': '4:36,24',
            'I': '4:57,24', 'II': '5:19,24', 'III': '5:45,24',
            'I юн.': '6:16,24', 'II юн.': '6:50,24', 'III юн.': '7:30,24'
        },
        3.0: {  # 3000м (круг 400м)
            'МСМК': '8:50,24', 'МС': '9:13,24', 'КМС': '9:58,24',
            'I': '10:45,24', 'II': '11:40,24', 'III': '12:45,24',
            'I юн.': '13:50,24', 'II юн.': '14:55,24', 'III юн.': '16:10,24'
        },
        5.0: {  # 5000м
            'МСМК': '15:13,24', 'МС': '16:05,24', 'КМС': '17:00,24',
            'I': '18:20,24', 'II': '19:50,24', 'III': '21:20,24',
            'I юн.': '23:00,24', 'II юн.': '24:45,24'
        },
        10.0: {  # 10000м
            'МСМК': '31:50,24', 'МС': '33:48,24', 'КМС': '36:10,24',
            'I': '38:40,24', 'II': '41:50,24', 'III': '45:30,24'
        },
        15.0: {  # 15км (шоссе)
            'КМС': '55:00', 'I': '59:00', 'II': '1:04:00', 'III': '1:10:00'
        },
        21.0975: {  # Полумарафон (шоссе)
            'МСМК': '1:11:00', 'МС': '1:15:40', 'КМС': '1:22:00',
            'I': '1:27:30', 'II': '1:34:30', 'III': '1:43:00'
        },
        42.195: {  # Марафон (шоссе)
            'МСМК': '2:30:00', 'МС': '2:40:00', 'КМС': '3:00:00',
            'I': '3:17:00', 'II': '3:35:00', 'III': '3:55:00'
        },
        100.0: {  # 100км (шоссе)
            'МСМК': '7:40:00', 'МС': '8:00:00', 'КМС': '8:25:00',
            'I': '8:55:00', 'II': '9:30:00', 'III': '10:10:00'
        },
    }

    # Конвертируем в список
    for distance, ranks in male_auto.items():
        for rank, time_str in ranks.items():
            standards.append({
                'distance': distance,
                'gender': 'male',
                'rank': rank,
                'time_seconds': parse_time_to_seconds(time_str)
            })

    for distance, ranks in female_auto.items():
        for rank, time_str in ranks.items():
            standards.append({
                'distance': distance,
                'gender': 'female',
                'rank': rank,
                'time_seconds': parse_time_to_seconds(time_str)
            })

    return standards


if __name__ == "__main__":
    # Тест
    standards = get_frs24_running_standards()
    print(f"Всего нормативов: {len(standards)}")

    # Примеры
    print("\nПримеры нормативов (мужчины, полумарафон):")
    for s in standards:
        if s['distance'] == 21.0975 and s['gender'] == 'male':
            minutes = int(s['time_seconds'] // 60)
            seconds = int(s['time_seconds'] % 60)
            print(f"  {s['rank']}: {minutes}:{seconds:02d} ({s['time_seconds']:.2f} сек)")

    print("\nПримеры нормативов (женщины, 5 км):")
    for s in standards:
        if s['distance'] == 5.0 and s['gender'] == 'female':
            minutes = int(s['time_seconds'] // 60)
            seconds = int(s['time_seconds'] % 60)
            print(f"  {s['rank']}: {minutes}:{seconds:02d} ({s['time_seconds']:.2f} сек)")
