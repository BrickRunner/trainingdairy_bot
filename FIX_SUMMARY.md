# Исправление отображения разрядов по плаванию и велоспорту

## Проблема
Разряды по плаванию и велоспорту не отображались в результатах соревнований.

## Причины
1. **Плавание**: не передавался параметр `pool_length` при расчете разрядов
2. **Велоспорт**: логика ожидала параметр `place` (место), вместо расчета по времени для индивидуальной гонки

## Внесенные изменения

### 1. competitions/competitions_queries.py
**Строки**: 1007-1020, 1093-1106

Добавлена передача параметров для плавания и велоспорта:
```python
# Для плавания всегда используем бассейн 50м
# Для велоспорта используем индивидуальную гонку
kwargs = {}
if sport_type and 'плав' in sport_type.lower():
    kwargs['pool_length'] = 50
elif sport_type and 'велос' in sport_type.lower():
    kwargs['discipline'] = 'индивидуальная гонка'

qualification = await get_qualification_async(sport_type, distance, time_seconds, gender, **kwargs)
```

### 2. utils/qualifications.py
**Строки**: 937-945

Изменена логика расчета разрядов для велоспорта:
```python
# Было (требовалось место):
elif sport_type.lower() in ['cycling', 'велоспорт']:
    place = kwargs.get('place')
    ...

# Стало (расчет по времени):
elif sport_type.lower() in ['cycling', 'велоспорт', 'bike']:
    discipline = kwargs.get('discipline', 'индивидуальная гонка')
    result = await get_qualification_cycling_from_db(distance_km, time_seconds, gender, discipline)
```

## Результаты тестирования

### Плавание (бассейн 50м)
✅ 50м мужчины, 25.00 → **I разряд**
✅ 100м мужчины, 55.00 → **I разряд**
✅ 50м женщины, 28.00 → **I разряд**
✅ 1500м мужчины, 17:00.00 → **КМС**

### Велоспорт (индивидуальная гонка)
✅ 5км женщины, 7:00.00 → **КМС**
✅ 10км женщины, 15:00.00 → **I разряд**
✅ 10км мужчины, 12:30.00 → **КМС**
✅ 20км мужчины, 26:00.00 → **КМС**

### Бег (контрольная проверка)
✅ 5км мужчины, 15:00.00 → **I разряд**
✅ 10км мужчины, 32:00.00 → **I разряд**
✅ 21.1км мужчины, 1:15:00 → **"Нет разряда"** (время недостаточно для норматива)

## Доступные дистанции в БД

### Плавание (432 записи)
- Бассейн 50м: 50м, 100м, 200м, 400м, 800м, 1500м
- Бассейн 25м: те же дистанции

### Велоспорт (95 записей)
**Индивидуальная гонка**:
- Женщины: 5км, 10км, 15км, 20км, 25км, 50км
- Мужчины: 10км, 15км, 20км, 25км, 50км

**Другие дисциплины**: парная гонка, шоссе

## Требования выполнены
✅ Плавание: все результаты считаются как бассейны 50м
✅ Велоспорт: только индивидуальная гонка по времени
✅ Сохранена обратная совместимость с бегом
✅ Обновлен CHANGELOG.md

## Файлы для коммита
- `competitions/competitions_queries.py` - добавлена передача параметров
- `utils/qualifications.py` - изменена логика для велоспорта
- `CHANGELOG.md` - документирование изменений
