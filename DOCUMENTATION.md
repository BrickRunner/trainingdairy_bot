# Документация проекта: Telegram-бот для отслеживания тренировок

## Интервью «Ваше мнение»

Я провел опрос спортсменов и тренера по бегу, плаванию и триатлону с целью выяснить отношение к будущему продукту. Результаты в Таблице 1 помогли точнее определить функциональность бота и приоритеты разработки.

### Таблица № 1. Результаты опроса целевой аудитории

| Опрашиваемые люди | Хотели бы вы использовать этот бот для себя? Почему? | Что бы вы хотели изменить или добавить? |
|-------------------|------------------------------------------------------|----------------------------------------|
| **Спортсмены-любители** | Да. Это необходимый инструмент для самоконтроля и анализа своих тренировок. Удобно вести дневник тренировок прямо в Telegram, не переключаясь между приложениями. | Необходимо добавить автоматический расчет пульсовых зон и напоминания о регулярном внесении показателей здоровья (пульс, вес, сон). Важна возможность экспорта данных в PDF для отправки тренеру. |
| **Тренер** | Как для тренера это необходимая вещь для контроля тренировочного процесса спортсменов и планирования нагрузок. После каждой тренировки можно провести анализ показателей и скорректировать план подготовки. Важна функция добавления тренировок и комментариев к ним для учеников. | Необходимо оснастить бота функцией просмотра статистики ученика за разные периоды (неделя, месяц, год) с графиками объема и темпа. Также нужна система уведомлений о предстоящих стартах учеников и возможность отслеживать их прогресс к целевым результатам. |
| **Спортсмены-разрядники** | Да, особенно важна возможность отслеживания выполнения разрядных нормативов ЕВСК и регистрации на официальные соревнования через бота. Это экономит время на поиске стартов и расчете квалификации. | Добавить интеграцию с большим количеством сервисов регистрации на соревнования (RussiaRunning, Timerman, HeroLeague). Важна возможность установки целевого времени и отслеживания прогресса к нему. |

### Таблица № 2. Анализ достоинств и недостатков

| Достоинства | Недостатки | Устранение недостатков |
|-------------|-----------|------------------------|
| Интеграция в привычный мессенджер (Telegram), не требует установки отдельного приложения | Требует постоянного интернет-соединения для работы | Добавить возможность офлайн-кэширования данных и отложенной синхронизации |
| Многофункциональность: тренировочный дневник, здоровье, соревнования, связь с тренером | Сложность навигации при большом количестве функций | Оптимизация структуры меню, добавление быстрых команд и inline-кнопок |
| Автоматические напоминания и уведомления о важных событиях | Уведомления могут быть избыточными для некоторых пользователей | Гибкая настройка уведомлений в разделе настроек |
| Поддержка нескольких видов спорта (бег, плавание, велоспорт, триатлон, силовые) | Специфичные поля для каждого вида спорта могут усложнить интерфейс | Адаптивные формы ввода в зависимости от выбранного вида активности |
| Система рейтингов и достижений для мотивации | Не все пользователи заинтересованы в соревновательном аспекте | Возможность отключения рейтингов в настройках |

## Результаты исследования и учет пожеланий потребителя

В результате исследования проекта и учета пожеланий потребителя при конструировании следует учесть следующие факторы:

### Схема 1. Факторы проектирования

```
                    ┌──────────────────────────────────┐
                    │   Требования к боту              │
                    └──────────────┬───────────────────┘
                                   │
                ┌──────────────────┼──────────────────┐
                │                  │                  │
       ┌────────▼────────┐ ┌──────▼──────┐  ┌────────▼────────┐
       │  Функциональность│ │  Удобство   │  │   Технические   │
       │                  │ │ использования│  │   требования    │
       └────────┬────────┘ └──────┬──────┘  └────────┬────────┘
                │                  │                  │
        ┌───────┴───────┐  ┌──────┴──────┐   ┌──────┴────────┐
        │               │  │             │   │               │
   ┌────▼────┐   ┌─────▼──┐  ┌──────▼────┐ ┌─▼────┐  ┌──────▼─────┐
   │Дневник  │   │Здоровье│  │Интуитивная│ │Async/│  │Масштабиру- │
   │тренировок│   │        │  │навигация  │ │await │  │емость БД   │
   └─────────┘   └────────┘  └───────────┘ └──────┘  └────────────┘

   ┌─────────┐   ┌────────┐  ┌───────────┐ ┌──────┐  ┌────────────┐
   │Соревно- │   │Связь с │  │Быстрый    │ │FSM   │  │Уведомления │
   │вания    │   │тренером│  │отклик     │ │States│  │scheduler   │
   └─────────┘   └────────┘  └───────────┘ └──────┘  └────────────┘

   ┌─────────┐   ┌────────┐  ┌───────────┐ ┌──────┐  ┌────────────┐
   │Рейтинги │   │Настройки│  │Минимум    │ │aiogram│ │Резервное   │
   │         │   │         │  │шагов      │ │3.x   │  │копирование │
   └─────────┘   └────────┘  └───────────┘ └──────┘  └────────────┘
```

## Возможные варианты реализации интерфейса

### Таблица 3. Варианты структуры меню

#### Вариант 1: Иерархическое меню с разделами

```
Главное меню
├── 📊 Тренировки
│   ├── ➕ Добавить тренировку
│   ├── 📈 Статистика
│   ├── 📉 Графики
│   └── 📄 Экспорт в PDF
├── 🏃 Соревнования
│   ├── 🔍 Поиск соревнований
│   ├── 📝 Мои регистрации
│   ├── 🏆 Результаты
│   └── ➕ Добавить свое
├── ❤️ Здоровье
│   ├── ➕ Добавить показатели
│   ├── 📊 История
│   └── 📄 Экспорт
├── 👨‍🏫 Тренер
│   ├── 🔗 Связь с тренером
│   ├── 👥 Мои ученики
│   └── 💬 Комментарии
├── 🏅 Рейтинги
└── ⚙️ Настройки
```

**Достоинства:**
- Логичная структура с четким разделением функционала
- Легко найти нужный раздел
- Возможность расширения функционала

**Недостатки:**
- Требуется несколько нажатий для доступа к функциям
- Может быть избыточным для простых задач

#### Вариант 2: Плоское меню с быстрым доступом

```
Главное меню
├── ➕ Добавить тренировку
├── 🔍 Найти соревнование
├── ❤️ Здоровье
├── 📊 Моя статистика
├── 👨‍🏫 Связь с тренером
├── 🏅 Рейтинги
└── ⚙️ Все функции
```

**Достоинства:**
- Быстрый доступ к основным функциям
- Меньше кликов для частых действий
- Простота использования

**Недостатки:**
- Ограниченное количество функций в главном меню
- Дополнительные функции скрыты в подменю

### Таблица 4. Сравнение вариантов реализации интерфейса

| № варианта | Достоинства | Недостатки | Обоснование выбора лучшего варианта |
|------------|-------------|------------|-------------------------------------|
| **1. Иерархическое меню** | Возможность отслеживать весь функционал, логичная структура, масштабируемость | Больше шагов до нужной функции, может показаться перегруженным новым пользователям | **Выбран как основной.** Удобство структурированной навигации перевешивает недостаток дополнительных кликов. Пользователи быстро запоминают структуру. Возможность добавления inline-кнопок компенсирует количество шагов. |
| **2. Плоское меню** | Быстрый доступ к основным функциям, минимум кликов | Ограниченное количество функций в главном меню, сложность расширения функционала | Подходит для упрощенной версии, но ограничивает развитие проекта. Используется частично через команды быстрого доступа (/add, /stats). |

## Дополнительные факторы, учтенные при разработке

### 1. Система единиц измерения
- Поддержка метрической и имперской системы
- Автоматический пересчет темпа и дистанций
- Настройка в профиле пользователя

### 2. Локализация и часовые пояса
- Поддержка русского языка
- Учет часового пояса пользователя для уведомлений
- Форматирование дат по местным стандартам

### 3. Интеграция с внешними API
- RussiaRunning API для российских соревнований
- Timerman API для дополнительных стартов
- HeroLeague API для триатлона и мультиспорта
- RegPlace для региональных соревнований

### 4. Система квалификации
- Автоматический расчет разрядных нормативов ЕВСК
- Отслеживание прогресса к целевому разряду
- Уведомления о выполнении норматива

### 5. Безопасность и конфиденциальность
- Все данные хранятся локально в SQLite
- Связь тренер-ученик через уникальные коды
- Возможность удаления всех данных

## Итоговое решение

На основе проведенного исследования и анализа был выбран **Вариант 1 (Иерархическое меню)** с добавлением следующих оптимизаций:

1. **Inline-кнопки** для быстрого доступа к частым действиям
2. **Быстрые команды** (/add, /stats, /health) для опытных пользователей
3. **Контекстная навигация** - возврат в предыдущий раздел без возвращения в главное меню
4. **Адаптивные формы** - показ только релевантных полей в зависимости от типа активности
5. **FSM (Finite State Machine)** для управления многошаговыми процессами

Эти решения позволяют сочетать структурированность иерархического меню с удобством быстрого доступа, удовлетворяя потребности как новых, так и опытных пользователей.

---

**Автор:** Ученик
**Дата создания:** 2026-01-29
**Статус проекта:** Training assistant реализован
